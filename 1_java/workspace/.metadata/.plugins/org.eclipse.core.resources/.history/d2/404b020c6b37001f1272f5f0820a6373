package school;

import java.util.Scanner;

//4 school 리팩토링?
public class School {
	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		String name = "";
		int ban = 0;
		int bun = 0;
		int studCnt = 0;
		boolean flag;

		//Student[] list = new Student[100];

		while (true) {
			System.out.print("1. 학생 추가\n2. 학생 목록\n3. 학생 삭제\n4. 학생 수정\n5. 성적 입력\n6. 석차보기\n7. 나가기");
			int choice = sc.nextInt();

			if (choice == 7) {
				System.out.println("종료되었습니다.");
				break;
			}

			switch (choice) {
			case 1:
				// 학생 추가
				//입력
				System.out.print("이름: ");
				name = sc.next();
				System.out.print("반: ");
				ban = sc.nextInt();
				System.out.print("번호: ");
				bun = sc.nextInt();

				//처리하는 로직은 class manager에게 넘겨줌
				Manager manager = new Manager();
				manager.insert(name, ban, bun);

				//출력
				System.out.println(name + "학생 등록 완료");
				break;

			case 2:
				// 학생 목록
				System.out.println("========학생 목록=========");

				manager = new Manager();
				System.out.println(manager.selectAll());
				System.out.println("========================");
				break;

			case 3:
				// 학생 삭제
				System.out.print("반: ");
				ban = sc.nextInt();
				System.out.print("번호: ");
				bun = sc.nextInt();

				manager = new Manager();
				int idx = manager.selectIdx(ban, bun);
				
				if(idx == -1) {
					System.out.println("일치하는 학생을 찾을 수 없습니다.");
				} else {
					//삭제
					manager.delete(idx);
					System.out.println("학생 삭제 완료");
				}
				break;

			case 4:
				// 학생 수정
				System.out.print("반: ");
				ban = sc.nextInt();
				System.out.print("번호: ");
				bun = sc.nextInt();

				manager = new Manager();
				Student temp = manager.select(ban, bun);
				
				if(temp == null) {
					System.out.println("일치하는 학생을 찾을 수 없습니다.");
				} else {
					//수정 시도
					System.out.print("새로운 이름: ");
					temp.name = sc.next();
					System.out.println("학생 수정 성공!");
				}
				break;

			case 5:
				// 성적 입력
				System.out.println("반: ");
				ban = sc.nextInt();
				System.out.println("번호: ");
				bun = sc.nextInt();
				
				manager = new Manager();
				temp = manager.select(ban, bun);
				
				if(temp == null) {
					System.out.println("일치하는 학생을 찾을 수 없습니다.");
				} else {
					// 입력 로직
					System.out.print("국어 점수: ");
					temp.kor = sc.nextInt();
					System.out.print("영어 점수: ");
					temp.eng = sc.nextInt();
					System.out.print("수학 점수: ");
					temp.math = sc.nextInt();
					temp.tot = temp.kor + temp.eng + temp.math;
					System.out.println("성공적으로 성적이 입력 되었습니다.");
				}
				break;

			case 6:
				//석차 보기
				manager = new Manager();
//				System.out.println(manager.getRanking());
				break;
			}

		}
	}
}

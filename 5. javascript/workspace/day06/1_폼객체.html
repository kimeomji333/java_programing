<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>폼 객체</title>
    <style>
        p{
            height: 24px;
        }
    </style>
</head>
<body>
    <h2>폼 객체</h2>
    <!-- onsubmit : form이 제출 될 때 onsubmit="return false" (제출 불가) 
    유효성 검사 한 다음 제출이 될 수 있겠끔 사용할 수 있다.
    함수를 넣어서 유효성 검사한 후, return ture-->
    <!-- 방법1 -->
    <!-- <form name="serachForm" action="/board/search" method="get" onsubmit="return sendit1()"> -->
    <!-- 방법2 -->
    <form name="serachForm" action="/board/search" method="get">
        <p id="txt"></p>
        <input type="search" name="search" id="search" placeholder="검색어를 입력하세요">
        <!-- <input type="submit" value="검색"> -->
        <input type="button" value="검색" onclick="sendit3()">
    </form>

</body>
<script>
    // form 객체에 name이라는 속성을 줘서 js에서 찾아서 접근 가능
    const serachForm = document.serachForm;
    console.log(serachForm);
    console.log(serachForm.action);
    serachForm.action = "/user/join";

    // form 객체에서 위의 input 태그들을 name으로 찾을 수 있다.
    const search = serachForm.search;
    console.log(search);
    console.log(search.placeholder);
    search.placeholder = "검색어를 부탁해~";

    // 유효성 검사
    function sendit1(){
        if(search.value == ''){
            alert("검색어를 입력하세요!");
            search.focus();
            return false;
        }
        if(search.value.length < 2){
            alert("검색어는 두 자 이상 입력하세요!");
            search.value = "";
            search.focus();
            return false;
        }
        return true; // form태그 안에 onsubmit을 이용해서 true/false로 반환
    }

    function sendit2(){
        if(search.value == ''){
            alert("검색어를 입력하세요!");
            search.focus();
            return; // 여기서 return은 함수의 진행을 멈추기 위함
        }
        if(search.value.length < 2){
            alert("검색어는 두 자 이상 입력하세요!");
            search.value = "";
            search.focus();
            return;
        }
        serachForm.submit(); // 버튼으로 만들었으니, 직접 제출을 해야함
    }

    // 위의 코드에서 p태그를 만들어 html 에 문구를 넣어줬다.
    function sendit3(){
        const txt = document.getElementById("txt");
        if(search.value == ''){
            txt.innerHTML = "검색어를 입력하세요!";
            search.focus();
            search.style.borderColor = "red";
            return; 
        }
        if(search.value.length < 2){
            txt.innerHTML = "검색어는 두 자 이상 입력하세요!";
            search.value = "";
            search.focus();
            return;
        }
        serachForm.submit();
    }

    

</script>
</html>